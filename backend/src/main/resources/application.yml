spring:
  config:
    import: classpath:prompt.yml
  application:
    name: ${SPRING_APPLICATION_NAME:ai-social-game}
  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:mysql://${MYSQL_HOST:192.168.5.141}:${MYSQL_PORT:3306}/${MYSQL_DB:aisocialgame}?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
    username: ${SPRING_DATASOURCE_USERNAME:aisocialgame}
    password: ${SPRING_DATASOURCE_PASSWORD:aisocialgame_pwd}
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: ${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
    properties:
      hibernate:
        format_sql: false
  data:
    redis:
      host: ${SPRING_DATA_REDIS_HOST:192.168.5.141}
      port: ${SPRING_DATA_REDIS_PORT:6379}

server:
  port: ${SERVER_PORT:20030}

app:
  project-key: ${APP_PROJECT_KEY:aisocialgame}
  consul:
    address: ${CONSUL_HTTP_ADDR:http://192.168.5.141:60000}
  sso:
    user-service-name: ${SSO_USER_SERVICE_NAME:aienie-userservice-http}
    user-service-base-url: ${SSO_USER_SERVICE_BASE_URL:https://userservice.seekerhut.com}
    callback-url: ${SSO_CALLBACK_URL:https://aisocialgame.seekerhut.com/sso/callback}
    login-path: ${SSO_LOGIN_PATH:/sso/login}
    register-path: ${SSO_REGISTER_PATH:/register}
  auth:
    token-ttl-hours: ${APP_AUTH_TOKEN_TTL_HOURS:168}
  redis:
    token-key-prefix: ${APP_REDIS_TOKEN_KEY_PREFIX:aisocialgame:auth:token:}
  ai:
    default-model: ${APP_AI_DEFAULT_MODEL:}
    system-user-id: ${APP_AI_SYSTEM_USER_ID:0}
  credit:
    checkin-grant-tokens: ${APP_CREDIT_CHECKIN_GRANT_TOKENS:20}
    temp-expiry-days: ${APP_CREDIT_TEMP_EXPIRY_DAYS:30}
    exchange-daily-limit: ${APP_CREDIT_EXCHANGE_DAILY_LIMIT:2000}
    redeem-failure-limit-per-day: ${APP_CREDIT_REDEEM_FAILURE_LIMIT_PER_DAY:10}
  websocket:
    enabled: ${APP_WEBSOCKET_ENABLED:true}
  admin:
    username: ${APP_ADMIN_USERNAME:admin}
    password: ${APP_ADMIN_PASSWORD:admin123}
    display-name: ${APP_ADMIN_DISPLAY_NAME:系统管理员}
    token-ttl-hours: ${APP_ADMIN_TOKEN_TTL_HOURS:8}
  external:
    grpc-auth-required: ${APP_EXTERNAL_GRPC_AUTH_REQUIRED:true}
    userservice-internal-grpc-token: ${APP_EXTERNAL_USERSERVICE_INTERNAL_GRPC_TOKEN:}
    payservice-jwt: ${APP_EXTERNAL_PAYSERVICE_JWT:}
    aiservice-hmac-caller: ${APP_EXTERNAL_AISERVICE_HMAC_CALLER:}
    aiservice-hmac-secret: ${APP_EXTERNAL_AISERVICE_HMAC_SECRET:}

qdrant:
  host: ${QDRANT_HOST:http://192.168.5.141}
  http-port: ${QDRANT_PORT:6333}
  enabled: ${QDRANT_ENABLED:true}

connection:
  disconnect-threshold-seconds: ${APP_CONNECTION_DISCONNECT_THRESHOLD_SECONDS:15}

grpc:
  client:
    user:
      address: ${USER_GRPC_ADDR:consul:///${USER_GRPC_SERVICE_NAME:aienie-userservice-grpc}}
      negotiationType: PLAINTEXT
    billing:
      address: ${BILLING_GRPC_ADDR:consul:///${BILLING_GRPC_SERVICE_NAME:aienie-payservice-grpc}}
      negotiationType: PLAINTEXT
    ai:
      address: ${AI_GRPC_ADDR:consul:///${AI_GRPC_SERVICE_NAME:aienie-aiservice-grpc}}
      negotiationType: PLAINTEXT
