# 狼人杀游戏页 (Werewolf Game Room)

**文件路径:** `src/pages/games/WerewolfRoom.tsx`

## 1. 页面概述
这是《狼人杀》玩法的核心实现页面，旨在提供沉浸式的竞技体验。页面采用三栏布局（桌面端）和响应式设计，支持昼夜模式切换。

## 2. 关键元素

### 2.1 布局结构
*   **左侧栏 (桌面)**:
    *   **等待阶段 (Lobby)**: 显示玩家列表和 AI 添加面板（下拉框+按钮），方便房主快速组局。
    *   **游戏阶段**: 自动切换为“对局日志”和“记事本”Tabs，用于记录游戏进程和个人逻辑。
*   **中央区域 (Arena)**:
    *   **座位网格**: 12个玩家头像，支持状态显示（发言中、死亡、离线）。
    *   **昼夜背景**: 根据 `phase` 状态切换 CSS 类，夜晚为深色背景，白天为亮色。
*   **右侧栏 (桌面)**:
    *   **角色卡**: 展示当前玩家的身份和技能说明。
    *   **聊天/频道**: 夜晚自动切换为“狼人频道”（仅狼人可见），白天为“公共频道”。
    *   **操作栏**: 包含发动技能、闭麦等快捷操作。

### 2.2 移动端适配
*   **底部操作栏**:
    *   **夜晚**: 保持极简图标（麦克风、日志、行动按钮），减少误触。
    *   **白天**: **直接展示输入框**，左侧提供“语音/键盘”切换按钮。切换到语音模式时，显示巨大的“按住说话”按钮。

### 2.3 交互细节
*   **身份标记**: 右键点击（或点击下拉菜单）任意玩家头像，可进行本地标记（标狼、标好人、标未知）。标记仅自己可见。
*   **投票阶段**: 弹出 `VotingOverlay` 覆盖层，展示所有存活玩家，点击头像进行投票。
*   **结算阶段**: 弹出 `SettlementOverlay` 覆盖层，展示胜利方、MVP 和全场身份揭晓。

## 3. 开发要点
*   **状态管理**:
    *   `phase`: 控制游戏阶段 (`WAITING`, `NIGHT`, `DAY_DISCUSS`, `DAY_VOTE`, `GAME_END`)。
    *   `isNight`: 派生状态，用于控制全局主题色切换。
*   **动画效果**: 使用 Tailwind 的 `transition-colors duration-1000` 实现平滑的昼夜过渡。
*   **Mock 数据**: 目前使用 `MOCK_PLAYERS` 和模拟定时器驱动游戏流程。