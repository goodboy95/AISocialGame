# 通用大厅/等待室 (Lobby Page)

**文件路径:** `src/pages/Lobby.tsx`

## 1. 页面概述
这是进入游戏前的最后一步，也是游戏的容器页面。它负责处理通用的“入座”、“准备”逻辑，并根据游戏类型加载具体的游戏组件。

## 2. 关键元素

### 2.1 路由分发器 (Router Dispatcher)
*   **逻辑**: 检查 URL 中的 `gameId`。
*   **分支**:
    *   如果是 `undercover` -> 渲染 `<UndercoverRoom />` (详见 [page_game_undercover.md](./page_game_undercover.md))。
    *   其他 -> 渲染通用的狼人杀风格大厅。

### 2.2 通用大厅功能 (针对狼人杀等)
*   **座位网格**: 展示 9-12 个座位。
*   **空位交互**: 点击空位弹出 `Sheet` 组件，支持邀请好友或添加 AI 陪玩。
*   **聊天区**: 底部集成聊天窗口。
*   **移动端适配**: 移动端座位区支持横向滚动，以节省垂直空间给聊天区。

## 3. 开发要点
*   **组件复用**: `PlayerCard` 组件被设计为可复用，支持 `compact` (紧凑) 模式用于移动端横向滚动视图。
*   **AI 模拟**: 包含添加 AI 玩家的模拟逻辑 (`addAi` 函数)。